# CSS 캐스케이딩(Cascading) 핵심 정리

CSS(Cascading Style Sheets)의 이름에서도 알 수 있듯이, **캐스케이딩(Cascading)**은 스타일 시트의 가장 근본적인 원리입니다. 여러 스타일 규칙이 하나의 요소에 적용될 때, **어떤 스타일을 최종적으로 적용할지 결정하는 우선순위 규칙**을 의미합니다.

---

## 1. 캐스케이딩 적용 순서 (The Cascade Algorithm)

브라우저는 다음 3가지 기준을 순서대로 확인하여 승자를 결정합니다.

1.  **중요도 (Importance)**: `!important`가 있는지?
2.  **명시도 (Specificity)**: 선택자가 얼마나 구체적인지?
3.  **소스 순서 (Source Order)**: 코드가 얼마나 뒤에 나오는지?

---

## 2. 명시도 (Specificity) - 점수 계산법

선택자의 종류에 따라 점수가 매겨지며, 점수가 높은 규칙이 적용됩니다. (흔히 4자리 점수로 표현합니다: `(inline, ID, Class, Tag)`)

| 선택자 종류 | 점수 (Weight) | 예시 |
| :--- | :--- | :--- |
| **인라인 스타일** | 1,0,0,0 | `<div style="color: red;">` |
| **ID 선택자** | 0,1,0,0 | `#header` |
| **클래스, 속성, 가상 클래스** | 0,0,1,0 | `.btn`, `[type="text"]`, `:hover` |
| **태그(Type), 가상 요소** | 0,0,0,1 | `div`, `h1`, `::before` |
| **전체 선택자, 결합자** | 0,0,0,0 | `*`, `+`, `>`, `~`, `:where()` |

### 예제
```css
/* 점수: 0,0,0,1 */
div { color: blue; }

/* 점수: 0,0,1,1 (클래스 10 + 태그 1 = 11점) -> 승리! */
div.box { color: red; }
```

---

## 3. 소스 순서 (Source Order)

**명시도 점수가 동일하다면**, 코드 상에서 **나중에(아래에) 선언된 스타일**이 우선합니다.

```css
.btn { background: blue; }
.btn { background: red; } /* 승리 (같은 점수, 더 뒤에 있음) */
```

> **React 개발 시 주의**: CSS 파일을 import 하는 순서에 따라 덮어쓰기 여부가 결정될 수 있습니다.

---

## 4. `!important` (중요도)

모든 명시도와 순서를 무시하고 가장 최우선으로 적용됩니다.

```css
.box {
  background: red !important; /* 무조건 적용 */
}
#unique {
  background: blue; /* ID가 있어도 !important에 짐 */
}
```

*   **주의**: `!important`는 디버깅을 어렵게 만들고 유지보수를 해치므로, **유틸리티 클래스**나 **외부 라이브러리 스타일을 강제로 덮어써야 할 때**만 제한적으로 사용하는 것이 좋습니다.

---

## 요약: 스타일이 왜 안 먹힐까? 체크리스트

1.  **`!important`**가 어딘가에 숨어있지 않은가?
2.  **인라인 스타일**(`style="..."`)이 적용되어 있지 않은가?
3.  **ID 선택자** 때문에 내 클래스 선택자가 무시되고 있지 않은가?
4.  **CSS 파일 로드 순서**가 꼬이지 않았는가? (동일 명시도일 경우)
